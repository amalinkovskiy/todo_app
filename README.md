# TODO App с Playwright MCP Integration

🎉 **Профессиональное TODO приложение с полной интеграцией тестирования и Playwright MCP!**

## Основные возможности

- ✅ Добавление новых задач
- ✅ Отметка задач как выполненных
- ✅ Редактирование названий задач
- ✅ Удаление задач с подтверждением
- ✅ REST API с валидацией данных
- ✅ Полное тестовое покрытие (API + UI)
- ✅ Playwright MCP для помощи в создании тестов

## Что реализовано:

### 🏗️ Архитектура:
- ✅ Node.js + Express.js (MVC)
- ✅ Рендеринг на стороне сервера (EJS)
- ✅ Хранение данных в JSON-файле
- ✅ Валидация данных с помощью express-validator
- ✅ Настройка для тестового окружения (`.env.test`)
- ✅ Responsive UI с модальными окнами

### 🧪 Тестирование:
- **Единый тестовый фреймворк**: Playwright для API и UI тестов.
- **Комплексное покрытие**: Включает API, UI, тесты на адаптивность и доступность.
- **Полная изоляция данных**: Гарантирует стабильность выполнения.
- **"Инкубатор" для тестов**: Использование папки `mcp-generated` как временного хранилища для автосгенерированных тестов перед их рефакторингом.

### 🎭 Playwright MCP Integration:
- **Официальный @playwright/mcp** установлен и настроен.
- **Генерация тестов** на основе пользовательских сценариев.
- **Интеллектуальный анализ** существующих тестов.

## 💡 Процесс работы с MCP (Workflow)

Мы используем MCP как помощника для ускорения написания тестов, придерживаясь следующего процесса:

1.  **Генерация:** Используем MCP для генерации "черновика" теста в папку `tests/mcp-generated/`.
2.  **Ревью:** Анализируем сгенерированный код на предмет избыточности и корректности.
3.  **Рефакторинг:** Переписываем тест, приводя его к стандартам проекта (например, используя декларативный стиль).
4.  **Интеграция:** Перемещаем готовый, качественный тест в основную папку `tests/ui/`.
5.  **Очистка:** Удаляем исходный "черновик" из папки `mcp-generated`.

Этот подход позволяет нам сохранять высокое качество основного тестового набора, используя MCP для рутинной работы.

## Быстрый старт

### ⚙️ Установка:
```bash
npm install
```

### 🚀 Запуск:
```bash
npm run dev
```
Приложение будет доступно по адресу `http://localhost:3000`.

### 🧪 Тестирование:
```bash
npm test           # Запуск всех API и UI тестов
npm run test:api   # Только API тесты
npm run test:ui    # Только UI тесты
npm run test:headed    # UI тесты с браузером
npm run test:debug     # Отладка UI тестов
npm run test:report    # Показать HTML отчет
```

### 🎭 Playwright MCP:
```bash
npm run mcp:help     # Справка по MCP командам
npm run mcp:generate # Запустить генерацию тестов
```

## 📁 Структура проекта
```
.
├── 📁 .vscode/
│   └── settings.json
├── 📁 data/
│   ├── todos.json
│   └── todos.test.json
├── 📁 node_modules/
├── 📁 public/
│   └── css/
│       └── styles.css
├── 📁 src/
│   ├── 📁 config/
│   │   └── index.js
│   ├── 📁 controllers/
│   │   └── todo.controller.js
│   ├── 📁 models/
│   │   └── todo.model.js
│   ├── 📁 routes/
│   │   └── todo.routes.js
│   ├── 📁 services/
│   │   └── todo.service.js
│   ├── 📁 utils/
│   │   └── validation.js
│   ├── 📁 views/
│   │   ├── partials/
│   │   │   ├── header.ejs
│   │   │   └── footer.ejs
│   │   └── index.ejs
│   ├── app.js
│   └── server.js
├── 📁 tests/
│   ├── 📁 api/
│   │   └── todos.spec.js
│   ├── 📁 ui/
│   │   ├── todo.spec.js
│   │   ├── responsive.spec.js
│   │   └── accessibility.spec.js
│   ├── api-helpers.js               # Утилиты для API запросов в тестах
│   └── global-setup.js              # Глобальная настройка
├── scripts/
│   └── cleanup-db.js
├── .env
├── .env.test
├── .gitignore
├── package.json
├── package-lock.json
├── playwright.config.js
└── README.md
```